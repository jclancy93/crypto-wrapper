{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useCallback, useEffect, useState } from \"react\";\nimport { Web3Provider } from \"@ethersproject/providers\";\nimport Web3Modal from \"web3modal\";\nimport WalletConnectProvider from \"@walletconnect/web3-provider\"; // Enter a valid infura key here to avoid being rate limited\n// You can get a key for free at https://infura.io/register\n\nconst INFURA_ID = \"INVALID_INFURA_KEY\";\nconst NETWORK_NAME = \"mainnet\";\n\nfunction useWeb3Modal(config = {}) {\n  _s();\n\n  const [provider, setProvider] = useState();\n  const [autoLoaded, setAutoLoaded] = useState(false);\n  const {\n    autoLoad = true,\n    infuraId = INFURA_ID,\n    NETWORK = NETWORK_NAME\n  } = config; // Web3Modal also supports many other wallets.\n  // You can see other options at https://github.com/Web3Modal/web3modal\n  // if ()\n\n  if (initProvider.on) {\n    setProvider(new Web3Provider(initProvider));\n  }\n\n  const init = useCallback(async () => {\n    const web3Modal = new Web3Modal({\n      network: NETWORK,\n      cacheProvider: true,\n      providerOptions: {\n        walletconnect: {\n          package: WalletConnectProvider,\n          options: {\n            infuraId\n          }\n        },\n        injected: {\n          display: {\n            name: 'Metamask'\n          }\n        }\n      }\n    });\n  }); // Open wallet selection modal.\n\n  const loadWeb3Modal = useCallback(async () => {\n    const web3Modal = new Web3Modal({\n      network: NETWORK,\n      cacheProvider: true,\n      providerOptions: {\n        walletconnect: {\n          package: WalletConnectProvider,\n          options: {\n            infuraId\n          }\n        },\n        injected: {\n          display: {\n            name: 'Metamask'\n          }\n        }\n      }\n    });\n    const newProvider = await web3Modal.connect();\n    setProvider(new Web3Provider(newProvider));\n  }, [web3Modal]);\n  const logoutOfWeb3Modal = useCallback(async function () {\n    await web3Modal.clearCachedProvider();\n    window.location.reload();\n  }, [web3Modal]); // If autoLoad is enabled and the the wallet had been loaded before, load it automatically now.\n\n  useEffect(() => {\n    if (autoLoad && !autoLoaded && web3Modal.cachedProvider) {\n      loadWeb3Modal();\n      setAutoLoaded(true);\n    }\n  }, [autoLoad, autoLoaded, loadWeb3Modal, setAutoLoaded, web3Modal.cachedProvider]);\n  return [provider, loadWeb3Modal, logoutOfWeb3Modal];\n}\n\n_s(useWeb3Modal, \"YEGm9ZHHou5g+ssTkBXd42/orpA=\");\n\nexport default useWeb3Modal;","map":{"version":3,"sources":["/Users/jackclancy/Desktop/apps/nexus-wrapper/packages/react-app/src/hooks/useWeb3Modal.js"],"names":["useCallback","useEffect","useState","Web3Provider","Web3Modal","WalletConnectProvider","INFURA_ID","NETWORK_NAME","useWeb3Modal","config","provider","setProvider","autoLoaded","setAutoLoaded","autoLoad","infuraId","NETWORK","initProvider","on","init","web3Modal","network","cacheProvider","providerOptions","walletconnect","package","options","injected","display","name","loadWeb3Modal","newProvider","connect","logoutOfWeb3Modal","clearCachedProvider","window","location","reload","cachedProvider"],"mappings":"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","sourcesContent":["import { useCallback, useEffect, useState } from \"react\";\nimport { Web3Provider } from \"@ethersproject/providers\";\nimport Web3Modal from \"web3modal\";\nimport WalletConnectProvider from \"@walletconnect/web3-provider\";\n\n// Enter a valid infura key here to avoid being rate limited\n// You can get a key for free at https://infura.io/register\nconst INFURA_ID = \"INVALID_INFURA_KEY\";\n\nconst NETWORK_NAME = \"mainnet\";\n\nfunction useWeb3Modal(config = {}) {\n  const [provider, setProvider] = useState();\n  const [autoLoaded, setAutoLoaded] = useState(false);\n  const { autoLoad = true, infuraId = INFURA_ID, NETWORK = NETWORK_NAME } = config;\n  \n  // Web3Modal also supports many other wallets.\n  // You can see other options at https://github.com/Web3Modal/web3modal\n  // if ()\n\n  \n  if (initProvider.on) {\n    setProvider(new Web3Provider(initProvider));\n  }\n\n  const init = useCallback(async () => {\n    const web3Modal = new Web3Modal({\n      network: NETWORK,\n      cacheProvider: true,\n      providerOptions: {\n        walletconnect: {\n          package: WalletConnectProvider,\n          options: {\n            infuraId,\n          },\n        },\n        injected: {\n          display: {\n            name: 'Metamask'\n          }\n        }\n      },\n    });\n  })\n\n  // Open wallet selection modal.\n  const loadWeb3Modal = useCallback(async () => {\n    const web3Modal = new Web3Modal({\n      network: NETWORK,\n      cacheProvider: true,\n      providerOptions: {\n        walletconnect: {\n          package: WalletConnectProvider,\n          options: {\n            infuraId,\n          },\n        },\n        injected: {\n          display: {\n            name: 'Metamask'\n          }\n        }\n      },\n    });\n    const newProvider = await web3Modal.connect();\n    setProvider(new Web3Provider(newProvider));\n  }, [web3Modal]);\n\n  const logoutOfWeb3Modal = useCallback(\n    async function () {\n      await web3Modal.clearCachedProvider();\n      window.location.reload();\n    },\n    [web3Modal],\n  );\n\n  // If autoLoad is enabled and the the wallet had been loaded before, load it automatically now.\n  useEffect(() => {\n    if (autoLoad && !autoLoaded && web3Modal.cachedProvider) {\n      loadWeb3Modal();\n      setAutoLoaded(true);\n    }\n  }, [autoLoad, autoLoaded, loadWeb3Modal, setAutoLoaded, web3Modal.cachedProvider]);\n\n  return [provider, loadWeb3Modal, logoutOfWeb3Modal];\n}\n\nexport default useWeb3Modal;\n"]},"metadata":{},"sourceType":"module"}